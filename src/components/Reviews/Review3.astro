---
// src/components/Reviews/Review3.astro
import { t } from "i18n:astro";
import client from "@data/client.json";

// Create reviews array for easy mapping
const reviews = [
  {
    text: t("home:reviews.review1.text"),
    name: t("home:reviews.review1.name")
  },
  {
    text: t("home:reviews.review2.text"),
    name: t("home:reviews.review2.name")
  },
  {
    text: t("home:reviews.review3.text"),
    name: t("home:reviews.review3.name")
  }
];
---

<!-- ============================================ -->
<!--                  Reviews                     -->
<!-- ============================================ -->

<section id="reviews-567">
    <div class="cs-container">
        <div class="cs-content">
            <span class="cs-topper">{t("home:reviews.topper")}</span>
            <h2 class="cs-title">{t("home:reviews.title")}</h2>
            <p class="cs-text">
                {t("home:reviews.description")}
            </p>
        </div>
        <ul class="cs-card-group">
            {reviews.map((review) => (
                <li class="cs-item">
                    <!--Star Rating-->
                    <svg class="cs-stars" aria-hidden="true" width="190" height="25" viewBox="0 0 190 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M13.8681 0.826265L16.915 7.06064L23.8056 8.04502C25.0243 8.23252 25.4931 9.73252 24.6025 10.6231L19.6806 15.4513L20.8525 22.2481C21.04 23.4669 19.7275 24.4044 18.6493 23.8419L12.5087 20.6075L6.41496 23.8419C5.33684 24.4044 4.02434 23.4669 4.21184 22.2481L5.38371 15.4513L0.461836 10.6231C-0.428789 9.73252 0.0399611 8.23252 1.25871 8.04502L8.10246 7.06064L11.1962 0.826265C11.7118 -0.25186 13.3056 -0.298735 13.8681 0.826265Z" fill="currentColor"/>
                        <path d="M54.9324 0.826265L57.9793 7.06064L64.8699 8.04502C66.0887 8.23252 66.5574 9.73252 65.6668 10.6231L60.7449 15.4513L61.9168 22.2481C62.1043 23.4669 60.7918 24.4044 59.7137 23.8419L53.573 20.6075L47.4793 23.8419C46.4012 24.4044 45.0887 23.4669 45.2762 22.2481L46.448 15.4513L41.5262 10.6231C40.6355 9.73252 41.1043 8.23252 42.323 8.04502L49.1668 7.06064L52.2605 0.826265C52.7762 -0.25186 54.3699 -0.298735 54.9324 0.826265Z" fill="currentColor"/>
                        <path d="M95.9966 0.826265L99.0435 7.06064L105.934 8.04502C107.153 8.23252 107.622 9.73252 106.731 10.6231L101.809 15.4513L102.981 22.2481C103.169 23.4669 101.856 24.4044 100.778 23.8419L94.6373 20.6075L88.5435 23.8419C87.4654 24.4044 86.1529 23.4669 86.3404 22.2481L87.5123 15.4513L82.5904 10.6231C81.6998 9.73252 82.1685 8.23252 83.3873 8.04502L90.231 7.06064L93.3248 0.826265C93.8404 -0.25186 95.4341 -0.298735 95.9966 0.826265Z" fill="currentColor"/>
                        <path d="M137.061 0.826265L140.108 7.06064L146.998 8.04502C148.217 8.23252 148.686 9.73252 147.795 10.6231L142.873 15.4513L144.045 22.2481C144.233 23.4669 142.92 24.4044 141.842 23.8419L135.702 20.6075L129.608 23.8419C128.53 24.4044 127.217 23.4669 127.405 22.2481L128.577 15.4513L123.655 10.6231C122.764 9.73252 123.233 8.23252 124.452 8.04502L131.295 7.06064L134.389 0.826265C134.905 -0.25186 136.498 -0.298735 137.061 0.826265Z" fill="currentColor"/>
                        <path d="M178.125 0.826265L181.172 7.06064L188.063 8.04502C189.282 8.23252 189.75 9.73252 188.86 10.6231L183.938 15.4513L185.11 22.2481C185.297 23.4669 183.985 24.4044 182.907 23.8419L176.766 20.6075L170.672 23.8419C169.594 24.4044 168.282 23.4669 168.469 22.2481L169.641 15.4513L164.719 10.6231C163.828 9.73252 164.297 8.23252 165.516 8.04502L172.36 7.06064L175.453 0.826265C175.969 -0.25186 177.563 -0.298735 178.125 0.826265Z" fill="currentColor"/>
                    </svg>
                    <p class="cs-item-text">
                        {review.text}
                    </p>
                    <div class="cs-flex-group">
                        <picture class="cs-picture">
                            <img class="cs-profile" src="/assets/svgs/google.svg" decoding="async" alt="profile" width="50" height="50" aria-hidden="true" />
                        </picture>
                        <span class="cs-name">
                            {review.name}
                        </span>
                    </div>
                </li>
            ))}
        </ul>
        <a href={client.leaveReview} target="_blank" rel="noopener noreferrer" class="cs-button-solid">{t("home:reviews.cta")}</a>
    </div>
</section>





<style lang="less">

/*-- -------------------------- -->
<---          Reviews           -->
<--- -------------------------- -*/

/* Mobile - 360px */
@media only screen and (min-width: 0rem) {
    #reviews-567 {
        padding: var(--sectionPadding);

        .cs-container {
            width: 100%;
            /* changes to 1280px at tablet */
            max-width: (550/16rem);
            margin: auto;
            display: flex;
            flex-direction: column;
            align-items: center;
            /* 48px - 64px */
            gap: clamp(3rem, 6vw, 4rem);
        }

        .cs-content {
            /* set text align to left if content needs to be left aligned */
            text-align: center;
            width: 100%;

            display: flex;
            flex-direction: column;
            /* centers content horizontally, set to flex-start to left align */
            align-items: center;
        }

        .cs-card-group {
            width: 100%;
            padding: 0;
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            /* 16px - 20px */
            gap: clamp(1rem, 2.5vw, 1.15rem);
        }

        .cs-item {
            list-style: none;
            width: 100%;
            max-width: (630/16rem);
            /* 32px - 60px top & bottom */
            /* 16px - 48px left & right */
            padding: clamp(2rem, 6.15vw, 3.75rem) clamp(1rem, 4.15vw, 3rem);
            background-color: var(--sectionColor);
            /* prevents padding from adding to height and width */
            box-sizing: border-box;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            flex-direction: column;
            position: relative;
            .card-radius(lg);
        }

        .cs-stars {
            /* 169px - 189px */
            width: clamp(10.5625rem, 20vw, 11.8125rem);
            height: auto;
            /* 20px - 24px */
            margin-bottom: clamp(1.25rem, 3vw, 1.5rem);
            display: block;
            color: var(--primary);
        }

        .cs-item-text {
            /* 14px - 16px */
            font-size: clamp(0.875rem, 1.5vw, 1rem);
            line-height: 1.5em;
            margin: 0;
            /* 40px - 64px */
            margin-bottom: clamp(2.5rem, 8vw, 4rem);
            color: var(--bodyTextColor);
        }

        .cs-flex-group {
            /* in case one card has more text than the other, this pushes up against the review text so the name and title are always at the bottom. Only works if parent is a flexbox */
            margin-top: auto;
            display: flex;
            justify-content: flex-start;
            align-items: center;
            gap: (20/16rem);
        }

        .cs-profile {
            width: (60/16rem);
            height: (60/16rem);
            border-radius: 50%;
            /* clips image corners to make circle */
            overflow: hidden;
            position: relative;
            display: block;

            img {
                position: absolute;
                top: 0;
                left: 0;
                height: 100%;
                width: 100%;
                /* makes the image behave like a background image */
                object-fit: cover;
            }
        }

        .cs-name {
            /* 16px - 20px */
            font-size: clamp(1rem, 2vw, 1.25rem);
            line-height: 1.5em;
            font-weight: 700;
            margin: 0 0 (8/16rem) 0;
            color: var(--headerColor);
            display: block;
        }
    }
}

/* Tablet - 768px */
@media only screen and (min-width: 48rem) {
    #reviews-567 {
        .cs-container {
            max-width: (1280/16rem);
        }

        .cs-card-group {
            flex-direction: row;
            justify-content: space-between;
            align-items: stretch;
            flex-wrap: wrap;
        }

        .cs-item {
            width: clamp(48.5%, 46.5vw, 49.5%);
            &:last-of-type {
                width: 100%;
                max-width: 100%;
                align-items: center;

                .cs-item-text {
                    text-align: center;
                    max-width: (550/16rem);
                }
            }
        }
    }
}

/* Desktop - 1200px */
@media only screen and (min-width: 75rem) {
    #reviews-567 {
        .cs-card-group {
            flex-wrap: nowrap;
        }

        .cs-item {
            width: 100%;
            align-items: flex-start;
            &:last-of-type {
                align-items: flex-start;

                .cs-item-text {
                    text-align: left;
                }
            }
        }
    }
}

/* Dark Mode */
@media only screen and (min-width: 0rem) {
    body.dark-mode {
        #reviews-567 {
            background-color: rgba(0, 0, 0, .3);
            .cs-title,
            .cs-text,
            .cs-item-text,
            .cs-name,
            .cs-job {
                color: var(--bodyTextColorWhite);
            }

            .cs-text {
                opacity: 0.8;
            }

            .cs-item {
                background-color: var(--accent);
            }
        }
    }
}
                                                                     
</style>
                                